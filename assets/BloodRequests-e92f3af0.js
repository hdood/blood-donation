import{a as b,_ as q}from"./TableRow.vue_vue_type_script_setup_true_lang-054d3682.js";import{d as _,m as w,j as $,p as f,v as u,o as p,e as m,f as a,g as e,w as t,c as C,t as B,h as s,D as j,n as g}from"./index-0a258dc9.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang-2234cba1.js";import{d as S,T as G}from"./index-3a6d9d60.js";import{I as D,y as v,S as E,g as x,x as F}from"./tabs-56f1e754.js";import{S as I,h as k}from"./transition-84382b01.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./vue.runtime.esm-bundler-4da7d40c.js";import"./_commonjsHelpers-edff4021.js";import"./hidden-678929e6.js";import"./use-resolve-button-type-02c8b485.js";const O={class:"flex flex-col gap-4 py-3 rounded-xl overflow-hidden bg-secondary px-4 dark:bg-slate-600"},A=a("div",{class:"dark:text-white text-xl font-medium"},"Requests",-1),N={class:"w-full space-y-4"},T={class:"pl-5"},V=_({__name:"AcceptedBloodRequests",setup(h){const n=w([]);return $(async()=>{try{const r=await f.get("not_implementd/admin/blood-requests/accepted");n.value=r.data}catch{u("Error","failed to fetch accepted requests","danger","CloseOutline")}}),(r,i)=>(p(),m("div",O,[A,a("div",N,[e(q,{data:n.value,fields:["description","Blood Group"],"header-class":"bg-gradient-to-r from-teal-400 to-teal-500",class:"w-full"},{default:t(({row:c})=>[(p(),C(b,{class:"h-12",row:c,key:c.id,fields:["description"]},{default:t(()=>[a("td",T,B(s(j).parseBloodGroup(c.bloodGroup,c.rhFactor)),1)]),_:2},1032,["row"]))]),_:1},8,["data"])])]))}}),z={class:"flex flex-col gap-4 py-3 rounded-xl overflow-hidden bg-secondary px-4 dark:bg-slate-600"},M=a("div",{class:"dark:text-white text-xl font-medium"},"Requests",-1),P={class:"w-full space-y-4"},H={class:"pl-5"},J={class:"gap-3 flex justify-center py-2 items-center"},K=_({__name:"PendingBloodRequests",setup(h){const n=w([]);async function r(o){try{const l=new FormData;l.append("id",o),f.post(`not_implementd/admin/blood-request/accept/${o}`,l),u("Success","request accepted successfully","success","Checkmark"),await c()}catch{u("Error","failed to accept request","danger","CloseOutline")}}async function i(o){try{const l=new FormData;l.append("id",o),f.post(`not_implementd/admin/blood-request/reject/${o}`,l),u("Success","request rejected successfully","success","Checkmark"),await c()}catch{u("Error","failed to reject request","danger","CloseOutline")}}async function c(){try{const o=await f.get("not_implementd/admin/blood-requests/pending");n.value=o.data}catch{u("Error","failed to fetch accepted requests","danger","CloseOutline")}}return $(async()=>{await c()}),(o,l)=>(p(),m("div",z,[M,a("div",P,[e(q,{data:n.value,fields:["description","Blood Group",""],"header-class":"bg-gradient-to-r from-teal-400 to-teal-500",class:"w-full"},{default:t(({row:d})=>[(p(),C(b,{class:"h-12",row:d,key:d.id,fields:["description"]},{default:t(()=>[a("td",H,B(s(j).parseBloodGroup(d.bloodGroup,d.rhFactor)),1),a("td",J,[e(y,{type:"light-success",class:"p-1",onClick:R=>r(d.id)},{default:t(()=>[e(s(S),{class:"w-6 h-6"})]),_:2},1032,["onClick"]),e(y,{class:"p-1 rounded-sm",type:"danger-light",onClick:R=>i(d.id)},{default:t(()=>[e(s(G),{class:"w-6 h-6"})]),_:2},1032,["onClick"])])]),_:2},1032,["row"]))]),_:1},8,["data"])])]))}}),L={class:"p-14 flex flex-col gap-3"},Q=a("div",{class:"text-2xl font-medium dark:text-slate-200 mb-4"}," Appointments ",-1),le=_({__name:"BloodRequests",setup(h){return(n,r)=>(p(),m("div",L,[Q,e(s(F),null,{default:t(()=>[e(s(D),{class:"p-1 inline-flex w-60 gap-3 bg-white justify-between px-4 rounded-lg dark:bg-slate-500 dark:text-slate-200"},{default:t(()=>[e(s(v),{class:"focus:outline-none active:outline-none"},{default:t(({selected:i})=>[a("div",{class:g(["rounded-lg p-2",[i?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white":"hover:bg-slate-400"]])}," Requests ",2)]),_:1}),e(s(v),{class:"focus:outline-none active:outline-none"},{default:t(({selected:i})=>[a("div",{class:g(["rounded-lg p-2 focus:outline-none",[i?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white":"hover:bg-slate-400"]])}," Accepted ",2)]),_:1})]),_:1}),e(s(E),{class:"mt-2 block"},{default:t(()=>[e(s(I),{show:!0,enter:"transition-opacity duration-75","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity duration-150","leave-from":"opacity-100","leave-to":"opacity-0"},{default:t(()=>[e(s(k),{"enter-active-class":"transition-all duration-300","leave-active-class":"transition-all duration-300","enter-from-class":"opacity-0 ","leave-to-class":"opacity-0 "},{default:t(()=>[e(s(x),null,{default:t(()=>[e(K)]),_:1})]),_:1}),e(s(k),{"enter-active-class":"transition-all duration-300","leave-active-class":"transition-all duration-300","enter-from-class":"opacity-0 ","leave-to-class":"opacity-0 "},{default:t(()=>[e(s(x),null,{default:t(()=>[e(V)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{le as default};

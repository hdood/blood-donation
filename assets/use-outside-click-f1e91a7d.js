import{j as m,o as s,S as v,F as p}from"./hidden-3d8e147c.js";import{L as E,m as w,G as L}from"./index-de2b1906.js";function f(u,r,l){m.isServer||E(a=>{document.addEventListener(u,r,l),a(()=>document.removeEventListener(u,r,l))})}function P(u,r,l=L(()=>!0)){function a(e,i){if(!l.value||e.defaultPrevented)return;let n=i(e);if(n===null||!n.getRootNode().contains(n))return;let d=function o(t){return typeof t=="function"?o(t()):Array.isArray(t)||t instanceof Set?t:[t]}(u);for(let o of d){if(o===null)continue;let t=o instanceof HTMLElement?o:s(o);if(t!=null&&t.contains(n)||e.composed&&e.composedPath().includes(t))return}return!v(n,p.Loose)&&n.tabIndex!==-1&&e.preventDefault(),r(e,n)}let c=w(null);f("mousedown",e=>{var i,n;l.value&&(c.value=((n=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:n[0])||e.target)},!0),f("click",e=>{c.value&&(a(e,()=>c.value),c.value=null)},!0),f("blur",e=>a(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{P as y};

import{m as x,G as H,J as u,d as k,o as V,c as E,w as c,g as f,h as p,n as b,i as I}from"./index-073928f1.js";import{u as M}from"./donors-90049349.js";import{E as _,k as g,O as B}from"./radio-group-3de267c1.js";const a=x(0),m=x(!1),D={render(){var v,S;const s=this.$slots.default();m.value=!1;const o=s.find(t=>t.type.name=="Steps"),l=s.find(t=>t.type.name=="Footer"),i=s.find(t=>t.type.name=="Header"),r=o.children.default(),e=r[a.value],h=a.value==r.length-1;if(typeof e.type=="function"){const t=e.children.default().find(d=>d.type.name=="Step"),n=(v=t==null?void 0:t.props)==null?void 0:v.submit;if(!n&&h)throw Error("the last step must have a submit function");e.props.validation=(S=t==null?void 0:t.props)==null?void 0:S.validation,e.props.submit=n}const w=H(()=>!m.value||!e.props||!(e!=null&&e.props.validation)?!0:e.props.validation());function y(){var n,d;m.value||(m.value=!0);const t=(n=e==null?void 0:e.props)==null?void 0:n.validation;if(!t){a.value++;return}if(t!=null&&t()){if(!h){a.value++;return}const $=(d=e==null?void 0:e.props)==null?void 0:d.submit;if(!$)throw Error("the final step must have a submit function");$()}}function C(){a.value!=0&&a.value--}function F(){const t=[];return r.map((n,d)=>{typeof n.type=="function"?(d!=a.value&&(n.children.default=()=>[]),t.push(n)):d==a.value&&t.push(n)}),t}return u("div",[u(i,{currentStepId:a.value,stepsCount:r.length}),u(o,null,{default:()=>F()}),u(l,{nextStep:y,previousStep:C,valid:w,currentStepId:a.value,steps:r.length})])}},G={name:"Header",render(){const s=this.$attrs,o=s.currentStepId,l=s.stepsCount,i=[];return this.$slots.default().map((r,e)=>{i.push(u(r,{currentStepId:o,id:e,stepsCount:l}))}),u("div",i)}},N={name:"HeaderItem",render(){const s=this.$attrs.currentStepId,o=this.$attrs.id,l=this.$attrs.stepsCount;return console.log(l),u("div",this.$slots.default({active:s==o,stepsCount:l,currentStep:s+1,passed:s>o}))}},O={name:"Footer",render(){return u("div",this.$slots.default({nextStep:this.$attrs.nextStep,previousStep:this.$attrs.previousStep,valid:this.$attrs.valid,start:this.$attrs.currentStepId==0,end:this.$attrs.currentStepId==this.$attrs.steps-1}))}},z={name:"Steps",render(){this.$attrs.currentStepId;const s=this.$slots;return console.log(s),u("div",s.default())}},J={name:"Step",render(){return u("div",this.$slots.default())}},W=D,j=G,q=N,A=O,K=z,L=J,Q=k({__name:"GenderPicker",setup(s){const{tempDonor:o}=M();return(l,i)=>(V(),E(p(B),{class:"flex gap-4",modelValue:p(o).gender,"onUpdate:modelValue":i[0]||(i[0]=r=>p(o).gender=r)},{default:c(()=>[f(p(g),{value:"male",class:"w-20 cursor-pointer"},{default:c(({checked:r})=>[f(p(_),{class:b(["w-full py-2 text-center block rounded-md border border-blue-400 cursor-pointer",[r&&"bg-blue-400 text-white"]])},{default:c(()=>[I("Male")]),_:2},1032,["class"])]),_:1}),f(p(g),{value:"female",class:"w-20 cursor-pointer"},{default:c(({checked:r})=>[f(p(_),{class:b(["w-full py-2 text-center block rounded-md border border-red-400 cursor-pointer",[r&&"bg-red-400 text-white"]])},{default:c(()=>[I("Female")]),_:2},1032,["class"])]),_:1})]),_:1},8,["modelValue"]))}});export{A as F,q as H,W as M,L as S,Q as _,j as a,K as b};

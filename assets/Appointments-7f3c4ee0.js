import{u as m,_ as R}from"./AppointmentsRequestsTable.vue_vue_type_script_setup_true_lang-68108433.js";import{a as I,_ as j}from"./TableRow.vue_vue_type_script_setup_true_lang-bdcec4f5.js";import{d as y,s as C,y as Y,G as T,o as f,e as $,f as o,g as e,h as t,H as V,c as D,w as a,i as B,m as M,j as E,t as v,D as U,n as b}from"./index-de2b1906.js";import{_ as S}from"./Button.vue_vue_type_script_setup_true_lang-64c9328a.js";import{b as G,T as q}from"./index-15de6e14.js";import{Q as H,_ as z,a as Q,g as P,b as W}from"./HoursInput.vue_vue_type_script_setup_true_lang-68a744b1.js";import{h as x,S as F}from"./transition-30797ba0.js";import{U as J,Y as K,q as L}from"./dialog-b428b291.js";import{I as O,y as k,S as X,g as A,x as Z}from"./tabs-5d99c18c.js";import"./dynamic-import-helper-be004503.js";import"./ConfirmModal.vue_vue_type_script_setup_true_lang-f7630dd0.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./vue.runtime.esm-bundler-02705a3b.js";import"./_commonjsHelpers-edff4021.js";import"./typeof-f1c20273.js";import"./defineProperty-2c53d74b.js";import"./radio-group-6b808ccd.js";import"./hidden-3d8e147c.js";import"./description-24ae6657.js";import"./use-tree-walker-d50ff6a4.js";import"./use-controllable-a9d7eb2b.js";import"./use-event-listener-821c51d6.js";import"./use-outside-click-f1e91a7d.js";import"./use-resolve-button-type-17047226.js";const ee={class:"flex flex-col gap-3"},te={class:"flex flex-col gap-2"},ae=o("span",{class:"opacity-70 text-lg dark:text-white dark:opacity-100"}," Appointment Date ",-1),oe={class:"flex flex-col gap-2"},se=o("span",{class:"opacity-70 text-lg dark:text-white dark:opacity-100"}," Appointment Date ",-1),le=y({__name:"EditAppointmentForm",setup(g){const{tempTime:i,tempId:d,tempDate:l,formattedDate:u,freeHours:c}=C(m()),{fetchFreeHours:r}=m();Y(l,p=>{r(u.value)});const n=p=>{var s=p.getUTCMonth()+1,h=p.getUTCDate(),N=p.getUTCFullYear();return N+"-"+s+"-"+h},_=T(()=>new Date),w=T(()=>Q(new Date(P(new Date),W(new Date)),2));return(p,s)=>(f(),$("div",ee,[o("div",te,[ae,e(t(H),{modelValue:t(l),"onUpdate:modelValue":s[0]||(s[0]=h=>V(l)?l.value=h:null),format:n,"preview-format":n,"min-date":t(_),"max-date":t(w)},null,8,["modelValue","min-date","max-date"])]),o("div",oe,[se,e(z,{hours:t(c),modelValue:t(i),"onUpdate:modelValue":s[1]||(s[1]=h=>V(i)?i.value=h:null)},null,8,["hours","modelValue"])])]))}}),ne=o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ie={class:"fixed inset-0 overflow-y-auto"},de={class:"flex min-h-full items-center justify-center p-4 text-center"},ce={class:"mt-10"},re={class:"mt-6 flex justify-end w-full space-x-5"},pe=y({__name:"EditAppointmentModal",props:{show:{type:Boolean}},emits:["close"],setup(g,{emit:i}){const d=g,{rescheduleAppointment:l,fetchScheduledAppointments:u}=m();async function c(){i("close");try{await l(),await u()}catch{}}return(r,n)=>(f(),D(t(F),{appear:"",show:d.show,as:"template"},{default:a(()=>[e(t(L),{as:"div",onClose:n[1]||(n[1]=_=>r.$emit("close")),class:"relative z-10"},{default:a(()=>[e(t(x),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[ne]),_:1}),o("div",ie,[o("div",de,[e(t(x),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 translate-y-4",leave:"duration-300 ease-in","leave-to":"opacity-0 translate-y-4"},{default:a(()=>[e(t(J),{class:"w-full max-w-md transform rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:a(()=>[e(t(K),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:a(()=>[B(" Reschedule Appointment ")]),_:1}),o("div",ce,[e(le,{class:""})]),o("div",re,[o("button",{type:"button",onClick:n[0]||(n[0]=_=>r.$emit("close"))}," Cancel "),e(S,{type:"primary",class:"w-24 h-10 text-center",onClick:c},{default:a(()=>[B(" Reschedule ")]),_:1})])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),ue={class:"flex flex-col gap-4 py-3 rounded-xl overflow-hidden bg-secondary px-4 dark:bg-slate-600"},me=o("div",{class:"dark:text-white text-xl font-medium"}," Scheduled Appointments ",-1),fe={class:"w-full space-y-4"},_e={class:"gap-3 flex justify-center py-2 items-center"},he=y({__name:"ScheduledAppointmentsTable",setup(g){const i=M(!1);M(!1);const d=()=>i.value=!i.value;function l(w,p,s){n.value=w,_.value=p,r.value=s,d()}const{fetchAcceptedAppointments:u}=m(),{scheduledAppointments:c,tempTime:r,tempId:n,tempDate:_}=C(m());return E(async()=>{await u()}),(w,p)=>(f(),$("div",ue,[me,o("div",fe,[e(j,{data:t(c),fields:["Name","Blood Group","age","date (Y-M-D)","time",""],class:"w-full"},{default:a(({row:s})=>[(f(),D(I,{class:"h-12",row:s.donor,key:s.id,fields:["name"]},{default:a(()=>[o("td",null,v(t(U).parseBloodGroup(s.donor.bloodGroup,s.donor.rhFactor)),1),o("td",null,v(t(U).parseAge(s.donor.dob)),1),o("td",null,v(s.date),1),o("td",null,v(s.time),1),o("td",_e,[e(S,{type:"info",class:"p-1",onClick:h=>l(s.id,s.date,s.time)},{default:a(()=>[e(t(G),{class:"w-6 h-6"})]),_:2},1032,["onClick"])])]),_:2},1032,["row"]))]),_:1},8,["data","fields"]),e(pe,{onClose:d,show:i.value},null,8,["show"])])]))}}),ve={class:"flex flex-col gap-4 py-3 rounded-xl overflow-hidden bg-secondary px-4 dark:bg-slate-600"},ge=o("div",{class:"dark:text-white text-xl font-medium"}," Cancelled Appointments ",-1),xe={class:"w-full space-y-4"},ye=y({__name:"CanceledAppointmentsTable",setup(g){const{fetchCancelledAppointments:i,deleteAppointment:d}=m(),{cancelledAppointments:l}=C(m());async function u(c){await d(c),await i()}return E(async()=>{await i()}),(c,r)=>(f(),$("div",ve,[ge,o("div",xe,[e(j,{data:t(l),fields:["Name","date","time",""],class:"w-full"},{default:a(({row:n})=>[(f(),D(I,{class:"h-12",row:n.donor,key:n.id,fields:["name"]},{default:a(()=>[o("td",null,v(n.date),1),o("td",null,v(n.time),1),o("td",null,[e(S,{class:"p-1 rounded-sm",type:"danger-light",onClick:_=>u(n.id)},{default:a(()=>[e(t(q),{class:"w-6 h-6"})]),_:2},1032,["onClick"])])]),_:2},1032,["row"]))]),_:1},8,["data"])])]))}}),we={class:"p-14 flex flex-col gap-3"},$e=o("div",{class:"text-2xl font-medium dark:text-slate-200 mb-4"}," Appointments ",-1),We=y({__name:"Appointments",setup(g){return(i,d)=>(f(),$("div",we,[$e,e(t(Z),null,{default:a(()=>[e(t(O),{class:"p-1 inline-flex w-96 gap-3 bg-white justify-between px-4 rounded-lg dark:bg-slate-500 dark:text-slate-200"},{default:a(()=>[e(t(k),{class:"focus:outline-none active:outline-none"},{default:a(({selected:l})=>[o("div",{class:b(["rounded-lg p-2",[l?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white":"hover:bg-slate-400"]])}," Requests ",2)]),_:1}),e(t(k),{class:"focus:outline-none active:outline-none"},{default:a(({selected:l})=>[o("div",{class:b(["rounded-lg p-2 focus:outline-none",[l?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white":"hover:bg-slate-400"]])}," Scheduled ",2)]),_:1}),e(t(k),{class:"focus:outline-none active:outline-none"},{default:a(({selected:l})=>[o("div",{class:b(["rounded-lg p-2 focus:outline-none",[l?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white":"hover:bg-slate-400"]])}," Cancelled ",2)]),_:1})]),_:1}),e(t(X),{class:"mt-2 block"},{default:a(()=>[e(t(F),{show:!0,enter:"transition-opacity duration-75","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity duration-150","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[e(t(x),{"enter-active-class":"transition-all duration-300","leave-active-class":"transition-all duration-300","enter-from-class":"opacity-0 ","leave-to-class":"opacity-0 "},{default:a(()=>[e(t(A),null,{default:a(()=>[e(R)]),_:1})]),_:1}),e(t(x),{"enter-active-class":"transition-all duration-300","leave-active-class":"transition-all duration-300","enter-from-class":"opacity-0 ","leave-to-class":"opacity-0 "},{default:a(()=>[e(t(A),null,{default:a(()=>[e(he)]),_:1})]),_:1}),e(t(x),{"enter-active-class":"transition-all duration-300","leave-active-class":"transition-all duration-300","enter-from-class":"opacity-0 ","leave-to-class":"opacity-0 "},{default:a(()=>[e(t(A),null,{default:a(()=>[e(ye)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{We as default};
